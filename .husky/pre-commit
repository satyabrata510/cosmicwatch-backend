# Run type checking first (fast fail on type errors)
echo "ğŸ” Running type check..."
npx tsc --noEmit || {
    echo "âŒ TypeScript type check failed!"
    exit 1
}

# Run TSDoc validation via TypeDoc
echo "ğŸ“ Checking TSDoc comments..."
npx typedoc 2>/dev/null || {
    echo "âŒ TSDoc validation failed! Fix documentation errors."
    exit 1
}

# Run lint-staged for formatting and linting
echo "ğŸ§¹ Running lint-staged..."
npx lint-staged || {
    echo "âŒ Lint-staged failed!"
    exit 1
}

# Run biome check on all staged files
echo "ğŸ”¬ Running biome check..."
npx biome check --staged --no-errors-on-unmatched || {
    echo "âŒ Biome check failed!"
    exit 1
}

echo "âœ… All checks passed!"
